This is the reproduction of the kyber elastic exploit, for more details of the root issue, please refer to [link to X](https://twitter.com/0xdoug/status/1727613541115429314).

For now, this repo only contain exploit tests by using bruce forcing method, is there any better way to do this?

## Reproduce the exploit in local test pool

This test setup a 1:1 pool and brute forcing to get a value to exploit the pool.

The brute forced number can then be reused in production since there isn't any other liquidity in the attacker's range.

```bash
forge test -vvv --mt testBruteForceExploit
```

## Fuzz test & probability analysis

Run fuzz to test if it can get a useable value(only 1 variable in the test).

By default, the fuzzer only generate 256 cases, which is not enough to get a exploitable value. I've changed the config to 65535 so that fuzz test can take effect on this simple case.

```bash
forge test -vvv --mt testFuzz
```

Test the probability of getting a exploitable value.

```bash
forge test -vvv -mt testProbability
```

This runs a simple for loop to get the valid values found in a given range.
